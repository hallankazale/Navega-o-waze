
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Waze Lite — Navegação</title>
  <!-- Leaflet + Routing (CDNs sem defer para ordem garantida) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css">
  <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.min.js"></script>

  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <div class="toast" id="toast"></div>

  <!-- HOME -->
  <section id="home" class="view active">
    <div id="mapHome"></div>
    <button class="fab" id="openSearch" title="Buscar destino">🔎</button>
    <div class="sheetHome" id="homeSheet">
      <div class="handle"></div>
      <div class="search">
        <svg viewBox="0 0 24 24" width="22" height="22"><path d="M15.5 15.5 20 20" stroke="#7987a3" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="6" stroke="#7987a3" stroke-width="2" fill="none"/></svg>
        <input id="homeInput" placeholder="Para onde?" autocomplete="off">
        <button class="btn" id="btnLoc">📍 Minha localização</button>
      </div>

      <div class="groupTitle">Atalhos</div>
      <div class="chips">
        <div class="chip" data-q="Casa, Brasil"><div class="icon">🏠</div><div><div>Casa</div><small id="chipHome">Definir uma vez e ir</small></div></div>
        <div class="chip" data-q="Trabalho, Brasil"><div class="icon">🧳</div><div><div>Trabalho</div><small>Definir uma vez e ir</small></div></div>
        <div class="chip" data-q="Posto de gasolina"><div class="icon">⛽</div><div>Posto</div></div>
        <div class="chip" data-q="Restaurante"><div class="icon">🍔</div><div>Comida</div></div>
        <div class="chip" data-q="Estacionamento"><div class="icon">🅿️</div><div>Estacionamento</div></div>
      </div>

      <div class="groupTitle">Recentes</div>
      <ul class="list" id="recentList"></ul>

      <button class="primaryBtn" id="btnCalcHome">Calcular rota</button>
      <div class="sug" id="homeSug"></div>
    </div>
  </section>

  <!-- PREVIEW -->
  <section id="preview" class="view">
    <div id="mapPreview"></div>
    <div class="topbar">
      <div class="back" id="backHome"><svg width="22" height="22" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6" fill="none" stroke="#0b1020" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
      <div><div class="title" id="pvTitle">Seu local → —</div><div class="sub">Pré-visualização de rota</div></div>
      <div class="right"><button class="pill" id="btnAvoid">Evitar 1</button></div>
    </div>
    <div class="overlay" id="pvLoading"><div class="spinner"></div>Calculando rota…</div>
    <div class="sheetPreview">
      <div style="display:flex;justify-content:space-between"><span id="pvMiniTime">—</span><span id="pvMiniDist" class="muted">—</span></div>
      <div class="time" id="pvTime">—</div>
      <div id="pvVia" class="bold">—</div>
      <div class="desc">Melhor rota, Trânsito normal</div>
      <div class="btns">
        <div class="btnLite" id="btnLater">Sair depois</div>
        <div class="btnLite primary" id="btnGo">Ir agora</div>
      </div>
    </div>
  </section>

  <!-- NAVEGAÇÃO -->
  <section id="nav" class="view">
    <div id="mapNav"></div>
    <div class="navtop">
      <div class="next">
        <div class="turn-ico"><svg viewBox="0 0 24 24" width="22" height="22" fill="none"><path d="M6 4v5a3 3 0 0 0 3 3h5v4" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg></div>
        <div><div class="dist" id="nvNextDist">—</div><div class="street" id="nvNextStreet">—</div></div>
      </div>
      <div class="upnext" id="nvUpRow"><svg viewBox="0 0 24 24" width="20" height="20" fill="none"><path d="M6 4v5a3 3 0 0 0 3 3h5v4" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg><span>em seguida</span><span id="nvUpText" class="bold">—</span></div>
    </div>
    <div class="speedo"><div class="v" id="nvSpd">0</div><div class="u">km/h</div></div>
    <button class="btnVoice" id="btnVoice" title="Falar instruções"><svg viewBox="0 0 24 24" width="26" height="26" fill="none"><path d="M12 3a3 3 0 0 0-3 3v5a3 3 0 1 0 6 0V6a3 3 0 0 0-3-3Z" stroke="#fff" stroke-width="2"/><path d="M5 11a7 7 0 0 0 14 0" stroke="#fff" stroke-width="2" stroke-linecap="round"/><path d="M12 18v3" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg></button>
    <div class="miniBar"><span id="nvMiniTime">—</span><span class="dot"></span><span id="nvMiniEta">—</span><span class="dot"></span><span id="nvMiniDist">—</span></div>
    <div class="alert" id="nvRadar"><div style="font-size:22px">📷</div><div>Radar de velocidade em <span id="nvRadarDist">—</span> <br><small>Dirija com atenção</small></div></div>
    <div class="ctrls">
      <button id="btnRecenter">🎯</button>
      <button id="btnSim">▶️ Demo</button>
      <button id="btnStop">⏹️</button>
    </div>
  </section>

  <script src="assets/js/app.js"></script>
</body>
</html>
